!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Cesium")):"function"==typeof define&&define.amd?define(["Cesium"],t):"object"==typeof exports?exports.CesiumMouse=t(require("Cesium")):e.CesiumMouse=t(e.Cesium)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatEventType=void 0;var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(2),s=t.formatEventType=function(e){return e.toLowerCase().replace(/(_[a-z])/g,function(e){return e.replace("_","")})},c=function(e){var t=this;this._scene=e,this._over=null,this.handler=new i.ScreenSpaceEventHandler(this._scene.canvas),Object.keys(i.ScreenSpaceEventType).forEach(function(e){"PINCH_START"!==e&&"PINCH_MOVE"!==e&&"PINCH_END"!==e&&t._addEvent(e)})};c.LIMIT_DRILL_PICK=10,c.mixinEventsMethods=function(e){var t=c.getEventsMixin();return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},c.getEventsMixin=function(){return o.default.prototype},c.prototype=Object.assign(Object.create(o.default.prototype),{constructor:c,destroy:function(){this.handler.destroy(),this._scene=null,this._over=null,this._events=null},_addEvent:function(e){var t=this;this.handler.setInputAction(function(n){t._onEvent(s(e),n)},i.ScreenSpaceEventType[e])},_onEvent:function(e,t){var n=t?t.endPosition||t.position:null,r=[],o=null;n&&(r=this._scene.drillPick(n,c.LIMIT_DRILL_PICK),o=this._getInteractablePrimitive(r),o&&this._notify(e,o,n,r),"mousemove"===e&&this._mouseOverOut(n,o,r)),this.emit(e,{windowPosition:n,pickedObjects:r,target:o,type:e})},_getInteractablePrimitive:function(e){for(var t=null,n=0,r=e.length;n<r;n++){var o=e[n],s=o.id instanceof i.Entity?o.id:o.primitive;if(s.interactable&&s.show){t=s;break}}return t},_notify:function(e,t,n,r){t.emit(e,{windowPosition:n,pickedObjects:r,target:t,type:e})},_mouseOverOut:function(e,t,n){var r=this._over,o=t,i=!1,s=!1;t?(this._over=o,r!==o&&(i=!0,s=null!==r)):(s=null!==r,this._over=null),i&&this._notify("mouseover",o,e,n),s&&this._notify("mouseout",r,e,n)}}),e.exports=c},function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){}var i=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create&&"~";o.prototype._events=void 0,o.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)i.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(e,t){var n=s?s+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,c=new Array(i);o<i;o++)c[o]=r[o].fn;return c},o.prototype.emit=function(e,t,n,r,o,i){var c=s?s+e:e;if(!this._events||!this._events[c])return!1;var u,f,a=this._events[c],l=arguments.length;if("function"==typeof a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,t),!0;case 3:return a.fn.call(a.context,t,n),!0;case 4:return a.fn.call(a.context,t,n,r),!0;case 5:return a.fn.call(a.context,t,n,r,o),!0;case 6:return a.fn.call(a.context,t,n,r,o,i),!0}for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];a.fn.apply(a.context,u)}else{var v,h=a.length;for(f=0;f<h;f++)switch(a[f].once&&this.removeListener(e,a[f].fn,void 0,!0),l){case 1:a[f].fn.call(a[f].context);break;case 2:a[f].fn.call(a[f].context,t);break;case 3:a[f].fn.call(a[f].context,t,n);break;default:if(!u)for(v=1,u=new Array(l-1);v<l;v++)u[v-1]=arguments[v];a[f].fn.apply(a[f].context,u)}}return!0},o.prototype.on=function(e,t,n){var o=new r(t,n||this),i=s?s+e:e;return this._events||(this._events=s?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.once=function(e,t,n){var o=new r(t,n||this,!0),i=s?s+e:e;return this._events||(this._events=s?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):this._events[i]=o,this},o.prototype.removeListener=function(e,t,n,r){var o=s?s+e:e;if(!this._events||!this._events[o])return this;var i=this._events[o],c=[];if(t)if(i.fn)(i.fn!==t||r&&!i.once||n&&i.context!==n)&&c.push(i);else for(var u=0,f=i.length;u<f;u++)(i[u].fn!==t||r&&!i[u].once||n&&i[u].context!==n)&&c.push(i[u]);return c.length?this._events[o]=1===c.length?c[0]:c:delete this._events[o],this},o.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[s?s+e:e]:this._events=s?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,e.exports=o},function(t,n){t.exports=e}])});